<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Add your head content here -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" href="/stylesheets/homePage.css">
  <style>
    /* Style for the main container div */
    #main-container {
      margin: 0 auto;
      width: 90%;
      max-width: 1200px;
      height: auto;
      display: grid;
      grid-template-columns: repeat(35, 1fr); /* Set 35 columns */
      gap: 2px; /* Adjust the gap between inner divs as needed */
    }

    /* Style for each inner div */
    .inner-div {
      width: 100%;
      padding-top: 100%;
      background-color: #d7e9d9; /* Optional: Add a background color for better visibility */
      box-sizing: border-box;
    }

    /* Optional: Add some responsiveness with media queries */
    @media (max-width: 600px) {
      #main-container {
        gap: 2px;
      }
    }

    @media (max-width: 400px) {
      #main-container {
        gap: 2px;
      }
    }
  </style>
  <title>Pixels</title>
</head>

<body>
  <!-- Bootstrap Start -->
  <!-- <div class="modal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Get Pixel number:</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>Modal body text goes here.</p>
        </div>
        <div class="modal-footer">
          <button type="submit" class="signUpButton" id="signupButton">Sign up</button>
        </div>
      </div>
    </div>
  </div> -->
  <!-- Bootstrap End -->

  <div class="top">
    <img src="/images/pixel_mba_logo.png" class="topLogo" alt="">
    <span class="ourrow">
      <% if(user) {%>
        <p>Pixels: 0</p>
        <button class="topButton" onclick="handleBuyNow()">Buy Now</button>
      <% } else { %>
        <p>Pixels: 0</p>
      <a href="/"><button class="topButton" >Sign Up</button></a>
        <% } %>
      
    </span>
  </div>

  <!-- <div class="not-logged-in-message" id="signInMessage" style="display: none;">
    <p>Please sign in to buy a pixel.</p>
    <a href="/signin" class="sign-in-link">Sign In</a>
  </div> -->

  <div class="inludeText">
    <p class="topParaText">Help me finance my MBA at INSEAD. With a $10 contribution, you will earn your spot on the internet forever and receive weekly updates from my future MBA journey (classes, experiences, etc).
      <a href="#" class="myStory">My story</a>
    </p>
    <span class="row">
      <div class="greenSmallDiv"></div>
      <p>9,998 pixels left. $20 raised of $100,000 goal</p>
    </span>
  </div>

  <div id="main-container">
    <% for (let i = 1; i <= 1200; i++) { %>
     <% if (user) {%>
      <a href="/pixelbuyer" id="myModal" data-bs-toggle="modal" data-bs-target="#exampleModal<%=i %>">
        <div class="inner-div tooltip" id="<%= 'div' + i %>">
          <!-- <img src="/images/images.jpeg" class="containerImg" alt=""> -->
          <div class="tooltip-text">Buy this Pixel</div>
        </div>
      </a>
      <%- include("../partials/model",{index:i})  %>
      <!-- Popup start -->
      <!-- <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
       
      </button> -->
      <!-- Popup end -->
      <% } else { %>
        <a href="/">
          <div class="inner-div tooltip" id="<%= 'div' + i %>">
            <!-- <img src="/images/images.jpeg" class="containerImg" alt=""> -->
            <div class="tooltip-text">Sign up to buy this pixel</div>
          </div>
        </a>
        <% } %>
      
      <script>
        // function displayDivNumber_<%= i %>() {
        //   console.log('Clicked div number:', <%= i %>);
        // }
  
        // var tooltipDiv = document.getElementById('<%= 'div' + i%>');
        // tooltipDiv.addEventListener('click', displayDivNumber_<%= i %>);
  
        // // Check if the user is logged in, and hide the tooltip if logged in
        // if (<%= user ? 'true' : 'false' %>) {
        //   tooltipDiv.querySelector('.tooltip-text').style.display = 'none';
        // }
      </script>
    <% } %>
  </div>
  

  <script>
    // Define the function for Buy Now
    // function handleBuyNow() {
    //   // Check if the user is logged in
    //   var isUserLoggedIn = <%= user ? 'true' : 'false' %>;

    //   if (!isUserLoggedIn) {
    //     // If not logged in, display the sign-in message
    //     document.getElementById('signInMessage').style.display = 'block';
    //   } else {
    //     // If logged in, add your logic for buying a pixel here
    //     alert('Pixel bought!');
    //   }
    // }
  </script>
</body>

<script>var myModal = document.getElementById('myModal')
  var myInput = document.getElementById('myInput')
  
  myModal.addEventListener('shown.bs.modal', function () {
    myInput.focus()
  })</script>
</html>
